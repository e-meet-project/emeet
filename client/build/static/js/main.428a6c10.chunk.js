(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,a){},25:function(e,t,a){},38:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),r=a.n(s),i=a(39),c=a.n(i),o=(a(47),a(17)),l=a(6),j=a(7),h=a(9),d=a(8),u=(a(48),a(11)),b=a(18),p=a(10),m=a(12),O=a.n(m),x=function(e,t,a){return O.a.post("/api/auth/signup",{username:e,password:t,profileImage:a}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},g=function(e,t){return O.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return console.log("services",e.data),e.data})).catch((function(e){return console.log("service err",e.response.data),e.response.data}))},v=(a(22),a(23),a(78)),f=a(80),y=a(81),C=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",profileImage:"",message:""},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(b.a)({},n,s))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,s=a.password,r=a.profileImage;x(n,s,r).then((function(t){t.message?e.setState({message:t.message,username:"",password:"",profileImage:""}):(e.props.setUser(t),e.props.history.push("/"))}))},e}return Object(j.a)(a,[{key:"render",value:function(){return console.log(this.props),Object(n.jsx)("div",{class:"centerAuth",children:Object(n.jsx)(v.a,{children:Object(n.jsxs)("div",{className:"boxOn",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Create your account"}),Object(n.jsx)("p",{className:"error",children:this.state.message})]}),Object(n.jsxs)(f.a,{onSubmit:this.handleSubmit,children:[Object(n.jsxs)(f.a.Group,{children:[Object(n.jsx)(f.a.Label,{htmlFor:"username",children:"Username "}),Object(n.jsx)(f.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})]}),Object(n.jsxs)(f.a.Group,{children:[Object(n.jsx)(f.a.Group,{htmlFor:"password",children:"Password "}),Object(n.jsx)(f.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})]}),Object(n.jsxs)(f.a.Group,{children:[Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"profileImageUpload",children:[Object(n.jsx)(f.a.Label,{htmlFor:"profileImage",children:"Uplodad a Profile Picture? "}),Object(n.jsx)("div",{class:"profileImageUploadContainer",children:Object(n.jsx)(f.a.Control,{type:"file",name:"profileImage",id:"profileImage",value:this.state.profileImage,onChange:this.handleChange,class:"profileImageUpload"})})]})]}),Object(n.jsx)(y.a,{type:"submit",children:"Sign up"})]}),Object(n.jsxs)("div",{className:"signupLoginSwitch",children:["Already have an account ",Object(n.jsx)(p.b,{to:"/login",children:"Login "})]})]})})})}}]),a}(s.Component),w=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",message:""},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(b.a)({},n,s))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,s=a.password;g(n,s).then((function(t){console.log("login data",t),t.message?e.setState({message:t.message,username:"",password:""}):(console.log("before the setUser"),console.log(e.props),e.props.setUser(t),console.log("after the setUser"),e.props.history.push("/"))}))},e}return Object(j.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{class:"centerAuth",children:Object(n.jsx)(v.a,{children:Object(n.jsxs)("div",{class:"boxOn",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Please log in"}),Object(n.jsx)("p",{className:"error",children:this.state.message})]}),Object(n.jsxs)(f.a,{onSubmit:this.handleSubmit,children:[Object(n.jsxs)(f.a.Group,{children:[Object(n.jsx)(f.a.Label,{htmlFor:"username",children:"Username: "}),Object(n.jsx)(f.a.Control,{size:"lg",type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})]}),Object(n.jsxs)(f.a.Group,{children:[Object(n.jsx)(f.a.Label,{htmlFor:"password",children:"Password "}),Object(n.jsx)(f.a.Control,{size:"lg",type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})]}),Object(n.jsx)(y.a,{variant:"primary",type:"submit",children:"Login"})]}),Object(n.jsxs)("div",{className:"signupLoginSwitch",children:["Need to create an account?  ",Object(n.jsx)(p.b,{to:"/signup",children:"Sign up"})]})]})})})}}]),a}(s.Component),k=(a(75),function(e){console.log(e),O.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(){e.setUser(null)}))});function L(e){return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"navbar",children:[Object(n.jsx)(p.b,{className:"navbar-link",to:"/",children:Object(n.jsx)("img",{src:"https://res.cloudinary.com/irieljm/image/upload/c_scale,w_56/v1607633242/Emeet/Emeet_logo_desx4h.png",alt:"e-meet_logo"})}),Object(n.jsx)(p.b,{className:"navbar-link",to:"/",children:"Go to homepage"}),Object(n.jsxs)("div",{children:[Object(n.jsx)(p.b,{className:"navbar-link",to:"/events",children:"All Events"}),e.user?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(p.b,{className:"navbar-link",to:"/",onClick:function(){return k(e)},children:"Logout"}),Object(n.jsx)(p.b,{className:"navbar-link",to:"/profile",children:"User Profile"})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(p.b,{className:"navbar-link",to:"/login",children:"Login"}),Object(n.jsx)(p.b,{className:"navbar-link",to:"/signup",children:"Sign Up"})]})]})]})})}a(38);var S=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props.event;return console.log("this is the event",e),Object(n.jsxs)("div",{className:"card col-md-4 col-sm-3",children:[e.image&&Object(n.jsx)("img",{src:e.image,className:"card-img-top",alt:e.title}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h5",{className:"card-title",children:e.title}),Object(n.jsx)("p",{className:"card-text",children:e.description}),Object(n.jsx)(p.b,{to:"/events/".concat(e._id),className:"btn btn-primary",children:"More Information"})]})]})}}]),a}(s.Component),T=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:this.props.eventList.map((function(e){return Object(n.jsx)(S,{event:e},e._id)}))})})}}]),a}(s.Component),E=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={events:[]},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.a.get("/api/events").then((function(t){console.log("api call",t),e.setState({events:t.data})}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(T,{eventList:this.state.events}),Object(n.jsx)(p.b,{className:"btn btn-primary",to:"/Addevent",children:"Create your own event!  YESS"}),Object(n.jsx)(p.b,{className:"btn btn-default",to:"/signup",children:"sign up"})]})}}]),a}(s.Component),F=(a(76),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={fullUserProfile:null,errorMessage:null},e}return Object(j.a)(a,[{key:"getFullUserProfile",value:function(){var e=this;O.a.get("/api/user/".concat(this.props.user._id)).then((function(t){e.setState({fullUserProfile:t.data})})).catch((function(t){e.setState({errorMessage:t.message})}))}},{key:"componentDidMount",value:function(){this.getFullUserProfile()}},{key:"render",value:function(){var e=this.state.fullUserProfile;if(!e)return Object(n.jsx)(n.Fragment,{children:" Loading... "});if(this.state.errorMessage)return Object(n.jsxs)(n.Fragment,{children:[" Oh ho!... we had a problem (",this.state.errorMessage,") "]});var t=new Date,a=e.eventsAttended.filter((function(e){return new Date(e.date)<t})),s=e.eventsAttended.filter((function(e){return new Date(e.date)>=t})),r=e.eventsCreated;return console.log({user:e,pastEvents:a,upcomingEvents:s,eventsCreated:r}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"profile-container-top",children:[Object(n.jsx)("h1",{className:"profile-name",children:e.username}),Object(n.jsx)("p",{className:"aboutMe",children:e.aboutMe}),Object(n.jsx)("img",{className:"ProfilePhoto",alt:"",style:{maxWidth:" 120px",borderRadius:"50%"},src:e.profileImage})]}),Object(n.jsx)("button",{className:"btn-add-your-event",children:Object(n.jsx)("a",{href:"/Addevent",children:"Add your own event"})}),Object(n.jsxs)("div",{className:"container profile-myEventList",children:[Object(n.jsx)("h2",{className:"row",children:"Past Events"}),Object(n.jsx)(T,{eventList:a}),Object(n.jsx)("hr",{}),Object(n.jsx)("h2",{className:"row",children:"Upcoming Events"}),Object(n.jsx)(T,{eventList:s}),Object(n.jsx)("hr",{}),Object(n.jsx)("h2",{className:"row",children:"Events Created"}),Object(n.jsx)(T,{eventList:r})]})]})}}]),a}(s.Component)),N=(a(25),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{class:"searchbar",children:Object(n.jsx)("label",{htmlFor:"search",children:Object(n.jsx)("input",{type:"text",name:"search",id:"search",placeholder:"Search for an event..",value:this.props.search,onChange:this.props.filter,class:"searchBar"})})})}}]),a}(s.Component)),U=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={upcomingEvents:e.props.events,filteredEvents:[],search:""},e.filterEvents=function(t){e.setState({search:t.target.value},(function(){var t=e.props.events.filter((function(t){return t.description.toLowerCase().includes(e.state.search.toLowerCase())||t.title.toLowerCase().includes(e.state.search.toLowerCase())}));e.setState({filteredEvents:t})}))},e}return Object(j.a)(a,[{key:"render",value:function(){return""===this.state.search?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{class:"searchBar",children:Object(n.jsx)(N,{filter:this.filterEvents,search:this.state.search})}),Object(n.jsx)("div",{class:"searchResults",children:Object(n.jsx)("p",{children:Object(n.jsx)(T,{eventList:this.props.events})})})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{class:"searchBar",children:Object(n.jsx)(N,{filter:this.filterEvents,search:this.state.search})}),Object(n.jsx)("p",{children:Object(n.jsx)(T,{eventList:this.state.filteredEvents})})]})}}]),a}(s.Component),A=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={user:e.props.user,events:[],title:"",description:"",date:"",startTime:"",endTime:""},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.a.get("/api/events").then((function(t){var a=t.data;console.log("api call",t),e.setState({events:a,title:t.data.title,description:t.data.description,image:t.data.image})}))}},{key:"render",value:function(){var e=this.state.user;return console.log("this is the render declared user = ".concat(e," ")),e?Object(n.jsxs)("div",{class:"homepage",children:["index, now called homepage!",Object(n.jsxs)("p",{children:["Welcome ",this.state.user.username," !"]}),Object(n.jsxs)("div",{class:"searchFullContainer",children:[Object(n.jsx)("h1",{children:"search implementation"}),Object(n.jsx)("div",{class:"searchResults",children:Object(n.jsx)(U,{events:this.state.events})})]})]}):Object(n.jsxs)("div",{class:"homepage",children:["index, now called homepage!",Object(n.jsx)("p",{children:"Welcome!"}),Object(n.jsx)("p",{children:Object(n.jsx)("a",{href:"/events",children:"See all events"})}),Object(n.jsx)("p",{children:Object(n.jsxs)("div",{class:"searchFullContainer",children:[Object(n.jsx)("h1",{children:"search implementation"}),Object(n.jsx)("p",{children:Object(n.jsx)(U,{events:this.state.events})})]})})]})}}]),a}(r.a.Component),D=a(79),G=a(40),I=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={title:"",date:"",startTime:"",endTime:"",maxCapacity:"",description:"",image:"",googleLink:"",message:""},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;console.log(s),e.setState(Object(b.a)({},n,s))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.title,s=a.date,r=a.startTime,i=a.endTime,c=a.description,o=a.image,l=a.googleLink;e.props.history.push("/events"),console.log(e.state),n.length<5&&e.setState({message:"Please enter a longer title"}),O.a.post("/api/events",{title:n,date:s,startTime:r,endTime:i,owner:e.props.user._id,description:c,image:o,googleLink:l}).then((function(t){console.log(t.data,"fetch event"),e.setState({message:"Event created!"})})).catch((function(e){console.log(e)}))},e}return Object(j.a)(a,[{key:"render",value:function(){return console.log(this.props),console.log("message",this.state.message),Object(n.jsx)("div",{class:"centerAuth",children:Object(n.jsx)(v.a,{children:Object(n.jsxs)("div",{class:"boxOn",children:[Object(n.jsx)("h1",{children:"Create an Event"}),Object(n.jsxs)("p",{className:"error",children:["Message: ",this.state.message]}),Object(n.jsx)("div",{children:Object(n.jsxs)(f.a,{onSubmit:this.handleSubmit,children:[Object(n.jsxs)(f.a.Group,{as:D.a,children:[Object(n.jsx)(f.a.Label,{htmlFor:"title",children:" Event title: "}),Object(n.jsx)(f.a.Control,{type:"text",name:"title",id:"title",value:this.state.title,onChange:this.handleChange})]}),Object(n.jsxs)(f.a.Group,{as:D.a,children:[Object(n.jsx)(f.a.Label,{htmlFor:"date",children:"Event date:"}),Object(n.jsx)(f.a.Control,{type:"date",name:"date",id:"date",value:this.state.date,onChange:this.handleChange})]}),Object(n.jsxs)(D.a,{children:[Object(n.jsx)(G.a,{children:Object(n.jsxs)(f.a.Group,{as:D.a,children:[Object(n.jsx)(f.a.Label,{htmlFor:"startTime ",children:" Start time: "}),Object(n.jsx)(f.a.Control,{type:"time",name:"startTime",id:"startTime",value:this.state.startTime,onChange:this.handleChange})]})}),Object(n.jsx)(G.a,{}),Object(n.jsx)(G.a,{})]}),Object(n.jsxs)(D.a,{children:[Object(n.jsx)(G.a,{children:Object(n.jsxs)(f.a.Group,{as:D.a,children:[Object(n.jsx)(f.a.Label,{htmlFor:"endTime",children:" End time: "}),Object(n.jsx)(f.a.Control,{type:"time",name:"endTime",id:"endTime",value:this.state.endTime,onChange:this.handleChange})]})}),Object(n.jsx)(G.a,{}),Object(n.jsx)(G.a,{})]}),Object(n.jsxs)(D.a,{children:[Object(n.jsx)(G.a,{children:Object(n.jsxs)(f.a.Group,{as:D.a,children:[Object(n.jsx)(f.a.Label,{htmlFor:"maxCapacity",children:" Maximum capacity: "}),Object(n.jsx)(f.a.Control,{type:"number",name:"maxCapacity",id:"maxCapacity",value:this.state.maxCapacity,onChange:this.handleChange})]})}),Object(n.jsx)(G.a,{}),Object(n.jsx)(G.a,{})]}),Object(n.jsxs)(f.a.Group,{as:D.a,children:[Object(n.jsx)(f.a.Label,{htmlFor:"description",children:"Description: "}),Object(n.jsx)(f.a.Control,{as:"textarea",rows:3,type:"text",height:"20px",name:"description",id:"description",value:this.state.description,onChange:this.handleChange})]}),Object(n.jsxs)(f.a.Group,{as:D.a,children:[Object(n.jsx)(f.a.Label,{htmlFor:"googleLink",children:"Add Google link: "}),Object(n.jsx)(f.a.Control,{type:"link",name:"googleLink",id:"googleLink",value:this.state.googleLink,onChange:this.handleChange})]}),Object(n.jsx)("div",{className:"profileImageUpload",children:Object(n.jsxs)(f.a.Group,{children:[Object(n.jsx)(f.a.Label,{hmtlFor:"image",children:"Upload an image: "}),Object(n.jsx)("div",{class:"profileImageUploadContainer",children:Object(n.jsx)(f.a.Control,{type:"file",name:"image",id:"image",accept:"image/*",class:"profileImageUpload"})})]})}),Object(n.jsx)("br",{}),Object(n.jsx)(y.a,{type:"submit",children:"Add your event!"})]})})]})})})}}]),a}(s.Component),P=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:" Edit your event "}),Object(n.jsxs)("form",{onSubmit:this.props.handleSubmit,children:[Object(n.jsx)("label",{htmlFor:"title",children:" Event title: "}),Object(n.jsx)("input",{type:"text",name:"title",id:"title",value:this.props.title,onChange:this.props.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"date",children:"Event date:"}),Object(n.jsx)("input",{type:"date",name:"date",id:"date",value:this.props.date,onChange:this.props.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"startTime ",children:" Start time: "}),Object(n.jsx)("input",{type:"time",name:"startTime",id:"startTime",value:this.props.startTime,onChange:this.props.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"endTime",children:" End time: "}),Object(n.jsx)("input",{type:"time",name:"endTime",id:"endTime",value:this.props.endTime,onChange:this.props.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"maxCapacity",children:" Maximum capacity: "}),Object(n.jsx)("input",{type:"number",name:"maxCapacity",id:"maxCapacity",value:this.props.maxCapacity,onChange:this.props.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"description",children:"Description: "}),Object(n.jsx)("input",{type:"text",name:"description",id:"description",value:this.props.description,onChange:this.props.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"googleLink",children:"Add Google link: "}),Object(n.jsx)("input",{type:"link",name:"googleLink",id:"googleLink",value:this.props.googleLink,onChange:this.props.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{hmtlFor:"image",children:"Upload an image: "}),Object(n.jsx)("input",{type:"file",name:"image",id:"image",accept:"image/*"}),Object(n.jsx)("button",{type:"submit",children:" Edit your event "})]})]})})}}]),a}(s.Component),M=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={error:null,event:null,title:"",description:"",image:"",googleLink:"",date:"",startTime:"",endTime:"",maxCapacity:"",attending:!1},e.getEventDetails=function(){var t=e.props.match.params.id;O.a.get("/api/events/".concat(t)).then((function(t){var a=t.data;e.setState({event:a,title:t.data.title,description:t.data.description,image:t.data.image,googleLink:t.data.googleLink,date:t.data.date,startTime:t.data.startTime,endTime:t.data.endTime,maxCapacity:t.data.maxCapacity,attending:t.data.attendees.includes(e.props.user._id)})})).catch((function(t){console.log(t.response),404===t.response.status&&e.setState({error:"Sorry - Project Not found \ud83e\udd37\u200d\u2640\ufe0f \ud83e\udd37\u200d\u2642\ufe0f"})}))},e.deleteEvent=function(){var t=e.props.match.params.id;O.a.delete("/api/events/".concat(t)).then((function(){e.props.history.push("/events")}))},e.toggleEditForm=function(){e.setState((function(e){return{editForm:!e.editForm}}))},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(b.a)({},n,s))},e.handleSubmit=function(t){t.preventDefault();var a=e.props.match.params.id;O.a.put("/api/events/".concat(a),{title:e.state.title,description:e.state.description,image:e.state.image,googleLink:e.state.googleLink,date:e.state.date,startTime:e.state.startTime,endTime:e.state.endTime,maxCapacity:e.state.maxCapacity}).then((function(t){e.setState({event:t.data,title:t.data.title,description:t.data.description,image:t.data.image,googleLink:t.data.googleLink,date:t.data.date,maxCapacity:t.data.maxCapacity,startTime:t.data.startTime,endTime:t.data.endTime,editForm:!1}),e.props.history.push("/events")})).catch((function(e){console.log(e)}))},e.joinEvent=function(){var t=e.props.match.params.id;O.a.put("/api/events/join/".concat(t)).then((function(t){console.log(t,"response"),e.setState({attending:!0})})).catch((function(e){return console.log(e)}))},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getEventDetails()}},{key:"componentDidUpdate",value:function(e){e.match.params.id!==this.props.match.params.id&&this.getEventDetails()}},{key:"render",value:function(){var e=this;return console.log("render",this.state.attending),console.log("attending",this.state.attending),this.state.error?Object(n.jsx)("h1",{children:this.state.error}):this.state.event?Object(n.jsxs)("div",{children:["test! test!",Object(n.jsx)("h1",{children:this.state.event.title}),Object(n.jsx)("p",{children:this.state.event.description}),Object(n.jsxs)("p",{children:["Start ",this.state.event.startTime+"0","  End ",this.state.event.endTime+"0"]}),Object(n.jsxs)("p",{children:["Date: ",this.state.event.date]}),this.props.user._id===this.state.event.owner&&Object(n.jsx)("button",{variant:"danger",onClick:function(){e.deleteEvent()},children:"Delete event"}),this.props.user._id===this.state.event.owner&&Object(n.jsx)("button",{onClick:this.toggleEditForm,children:"Show Edit Form"}),this.props.user&&(this.state.attending?Object(n.jsx)("p",{children:"You are attending this event! "}):Object(n.jsx)("button",{onClick:this.joinEvent,children:" Join event"})),this.state.editForm&&Object(n.jsx)(P,Object(o.a)(Object(o.a)({},this.state),{},{handleChange:this.handleChange,handleSubmit:this.handleSubmit}))]}):Object(n.jsx)("h1",{children:"Loading..."})}}]),a}(s.Component),_=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={user:e.props.user},e.setUser=function(t){e.setState({user:t})},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{children:[Object(n.jsx)(L,{user:this.state.user,setUser:this.setUser}),Object(n.jsxs)(u.d,{children:[Object(n.jsx)(u.b,{exact:!0,path:"/",render:function(t){return e.state.user?Object(n.jsx)(A,Object(o.a)({user:e.state.user},t)):Object(n.jsx)(A,{})}}),Object(n.jsx)(u.b,{exact:!0,path:"/signup",render:function(t){return Object(n.jsx)(C,Object(o.a)({setUser:e.setUser},t))}}),Object(n.jsx)(u.b,{exact:!0,path:"/login",render:function(t){return Object(n.jsx)(w,Object(o.a)({setUser:e.setUser},t))}}),Object(n.jsx)(u.b,{exact:!0,path:"/events",render:function(t){return Object(n.jsx)(E,Object(o.a)({setUser:e.setUser},t))}}),Object(n.jsx)(u.b,{exact:!0,path:"/profile",render:function(t){return e.state.user?Object(n.jsx)(F,Object(o.a)({user:e.state.user},t)):Object(n.jsx)(u.a,{to:"/"})}}),Object(n.jsx)(u.b,{exact:!0,path:"/events/:id",render:function(t){return Object(n.jsx)(M,Object(o.a)({user:e.state.user},t))}}),Object(n.jsx)(u.b,{exact:!0,path:"/editevent",component:P}),Object(n.jsx)(u.b,{exact:!0,path:"/addevent",render:function(t){return e.state.user?Object(n.jsx)(I,Object(o.a)({user:e.state.user},t)):Object(n.jsx)(u.a,{to:"/login"})}})]})]})}}]),a}(s.Component);O.a.get("/api/auth/loggedin").then((function(e){var t=e.data;console.log("index.js",t),c.a.render(Object(n.jsx)(p.a,{children:Object(n.jsx)(_,{user:t})}),document.getElementById("root"))}))}},[[77,1,2]]]);
//# sourceMappingURL=main.428a6c10.chunk.js.map